spring.application.name=mcp
server.port=8095
spring.profiles.active=dev

spring.main.web-application-type=reactive
spring.threads.virtual.enabled=true

rag.markdown.path = classpath:markdown
rag.markdown.index = embedding
rag.chunk.size = 500
rag.chunk.overlap = 50
rag.topK.size = 5
rag.chunk.token.maxSize = 400
rag.chunk.token.overlap = 40

#OpenAI
spring.ai.openai.base-url=https://api.openai.com
spring.ai.openai.api-key=${OPENAI_API_KEY}
spring.ai.openai.embedding.options.model=text-embedding-3-large
spring.ai.openai.chat.options.model=gpt-4
spring.ai.openai.embedding.options.dimensions=3072

spring.webClient.buffer.maxSize = 16777216

#Milvus
spring.ai.vectorstore.milvus.client.host=localhost
spring.ai.vectorstore.milvus.client.port=19530
spring.ai.vectorstore.milvus.client.username=
spring.ai.vectorstore.milvus.client.password=
spring.ai.vectorstore.milvus.initialize-schema=true
spring.ai.vectorstore.milvus.collection-name=rag_markdown
spring.ai.vectorstore.milvus.auto-id=true
spring.ai.vectorstore.milvus.embedding-dimension=3072

# Swagger
springdoc.swagger-ui.path=/swagger-ui/index.html
springdoc.swagger-ui.display-request-duration= true
springdoc.swagger-ui.groups-order= desc
springdoc.api-docs.path=/v3/api-docs
springdoc.default-consumes-media-type=application/json
springdoc.default-produces-media-type=application/json

# Neo4j
spring.neo4j.uri=bolt://localhost:7687
spring.neo4j.authentication.username=neo4j
spring.neo4j.authentication.password=Sfolm2016!

# Log
#logging.level.org.springframework.web.client=DEBUG
#logging.level.org.springframework.ai.openai=DEBUG
logging.pattern.console="%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n"

# H2 & JPA
spring.datasource.url=jdbc:h2:file:/app/data/chatdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.h2.console.enabled=true
spring.jpa.hibernate.ddl-auto=update